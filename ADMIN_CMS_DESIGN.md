# ğŸ¨ Admin Console - CMS è®¾è®¡æ–‡æ¡£

## ğŸ“‹ ç³»ç»Ÿæ¦‚è¿°

Admin Console ç°åœ¨æ˜¯ä¸€ä¸ªå®Œæ•´çš„ **å†…å®¹ç®¡ç†ç³»ç»Ÿï¼ˆCMSï¼‰**ï¼Œç”¨äºç®¡ç†å®˜ç½‘æ‰€æœ‰é¡µé¢çš„å›¾ç‰‡ã€‚

---

## ğŸŒ è®¿é—®åœ°å€

- **ç™»å½•**: http://localhost:5001/admin/login
- **ç®¡ç†åå°**: http://localhost:5001/admin
- **å‡­è¯**: 
  - ç”¨æˆ·å: `admin`
  - å¯†ç : `Medora2026@SecureAdmin`

---

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„

### 1. æ•´ä½“å¸ƒå±€

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  é¡¶éƒ¨å¯¼èˆªæ : Logo | ç”¨æˆ·èœå• | é€€å‡º                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚          â”‚                                          â”‚
â”‚ ä¾§è¾¹æ    â”‚         ä¸»å†…å®¹åŒºåŸŸ                        â”‚
â”‚ å¯¼èˆª     â”‚      (åŠ¨æ€åŠ è½½å„ç§ç®¡ç†é¡µé¢)               â”‚
â”‚          â”‚                                          â”‚
â”‚ Dashboardâ”‚                                          â”‚
â”‚ Homepage â”‚                                          â”‚
â”‚ Surgeons â”‚                                          â”‚
â”‚ Procedures                                          â”‚
â”‚ Gallery  â”‚                                          â”‚
â”‚ Travel   â”‚                                          â”‚
â”‚ Other    â”‚                                          â”‚
â”‚ Settings â”‚                                          â”‚
â”‚          â”‚                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2. é¡µé¢ç»“æ„

#### A. Dashboard (æ€»è§ˆé¡µ)
- æ˜¾ç¤ºæ‰€æœ‰å†…å®¹ç±»å‹çš„å¡ç‰‡
- ç‚¹å‡»å¡ç‰‡è¿›å…¥å¯¹åº”çš„ç®¡ç†é¡µé¢
- æ˜¾ç¤ºç»Ÿè®¡ä¿¡æ¯ï¼ˆåŒ»ç”Ÿæ•°é‡ã€é¡¹ç›®æ•°é‡ç­‰ï¼‰

#### B. Homepage (é¦–é¡µå›¾ç‰‡ç®¡ç†)
- **Hero Banner** - 2ä¸ªå›¾ç‰‡ä½
  - Hero Main (ä¸»å›¾)
  - Background (èƒŒæ™¯å›¾)
- **Feature Images** - 3ä¸ªå›¾ç‰‡ä½
  - Feature 1, 2, 3

#### C. Surgeons (åŒ»ç”Ÿç…§ç‰‡ç®¡ç†)
- ä» Supabase è·å–åŒ»ç”Ÿåˆ—è¡¨
- æ˜¾ç¤ºæ‰€æœ‰åŒ»ç”Ÿå¡ç‰‡
- ç‚¹å‡»åŒ»ç”ŸæŸ¥çœ‹å…¶ç…§ç‰‡ç®¡ç†é¡µï¼ˆå¾…å®ç°ï¼‰
- æ¯ä¸ªåŒ»ç”Ÿå¯ä¸Šä¼ ï¼š
  - Profile ç…§ç‰‡
  - Gallery ç…§ç‰‡
  - Background ç…§ç‰‡

#### D. Procedures (æ‰‹æœ¯é¡¹ç›®å›¾ç‰‡)
- ä» Supabase è·å–æ‰‹æœ¯é¡¹ç›®åˆ—è¡¨
- æ˜¾ç¤ºæ‰€æœ‰é¡¹ç›®å¡ç‰‡
- ç‚¹å‡»é¡¹ç›®æŸ¥çœ‹å…¶å›¾ç‰‡ç®¡ç†é¡µï¼ˆå¾…å®ç°ï¼‰
- æ¯ä¸ªé¡¹ç›®å¯ä¸Šä¼ ï¼š
  - Hero å›¾ç‰‡
  - Before/After å¯¹æ¯”å›¾
  - Gallery å›¾ç‰‡

#### E. Gallery (å›¾åº“ç®¡ç†)
- ä¸‰ä¸ªåˆ†ç±»ï¼š
  - Face (é¢éƒ¨)
  - Body (èº«ä½“)
  - Nonsurgical (éæ‰‹æœ¯)
- æ¯ä¸ªåˆ†ç±»å¯ä¸Šä¼ å¤šå¼ æ¡ˆä¾‹å›¾ç‰‡

#### F. Travel (æ—…æ¸¸é¡µé¢)
- Hero Banner
- Destination Images (ç›®çš„åœ°å›¾ç‰‡)
- å¤šä¸ªå›¾ç‰‡æ§½ä½

#### G. Other Pages (å…¶ä»–é¡µé¢)
- Placeholderï¼Œæœªæ¥æ‰©å±•ç”¨

---

## ğŸ“ æ–‡ä»¶ç»“æ„

```
admin/
â”œâ”€â”€ server.js                     # åç«¯æœåŠ¡å™¨
â”‚   â”œâ”€â”€ R2 ä¸Šä¼  API
â”‚   â”œâ”€â”€ Supabase æ•°æ® API
â”‚   â””â”€â”€ è®¤è¯ä¸­é—´ä»¶
â”‚
â”œâ”€â”€ public/
â”‚   â”œâ”€â”€ login.html               # ç™»å½•é¡µé¢
â”‚   â”œâ”€â”€ dashboard-new.html       # æ–°ç‰ˆç®¡ç†åå°ï¼ˆCMSé£æ ¼ï¼‰
â”‚   â””â”€â”€ dashboard.html           # æ—§ç‰ˆï¼ˆç®€å•ä¸Šä¼ ï¼‰
â”‚
â””â”€â”€ uploads/                      # ä¸´æ—¶ä¸Šä¼ ç›®å½•
```

---

## ğŸ”Œ API æ¥å£

### è®¤è¯ç›¸å…³
- `POST /admin/api/login` - ç™»å½•
- `POST /admin/api/logout` - ç™»å‡º
- `GET /admin/api/health` - å¥åº·æ£€æŸ¥

### Supabase æ•°æ®
- `GET /admin/api/surgeons` - è·å–åŒ»ç”Ÿåˆ—è¡¨
- `GET /admin/api/procedures` - è·å–æ‰‹æœ¯é¡¹ç›®åˆ—è¡¨

### R2 å›¾ç‰‡ç®¡ç†
- `POST /admin/api/upload` - ä¸Šä¼ å›¾ç‰‡
- `GET /admin/api/images?prefix=xxx` - åˆ—å‡ºå›¾ç‰‡
- `DELETE /admin/api/images/:key` - åˆ é™¤å›¾ç‰‡

---

## ğŸ¨ å›¾ç‰‡æ§½ä½ç³»ç»Ÿ

### æ¦‚å¿µ
æ¯ä¸ªé¡µé¢/å†…å®¹é¡¹éƒ½æœ‰å›ºå®šçš„**å›¾ç‰‡æ§½ä½**ï¼ˆImage Slotsï¼‰ï¼š
- âœ… å·²ä¸Šä¼ ï¼šæ˜¾ç¤ºç¼©ç•¥å›¾ï¼Œå¯æŸ¥çœ‹/æ›¿æ¢/åˆ é™¤
- â¬œ æœªä¸Šä¼ ï¼šæ˜¾ç¤ºç©ºæ§½ä½ï¼Œç‚¹å‡»ä¸Šä¼ 

### å‘½åè§„èŒƒ
```
{page}-{section}-{slot}

ç¤ºä¾‹:
- homepage-hero           # é¦–é¡µ Hero
- homepage-feature-1      # é¦–é¡µ Feature 1
- surgeon-123-profile     # åŒ»ç”Ÿ ID 123 çš„ Profile ç…§ç‰‡
- procedure-456-hero      # é¡¹ç›® ID 456 çš„ Hero å›¾ç‰‡
- gallery-face-001        # Gallery Face åˆ†ç±»å›¾ç‰‡ 001
- travel-dest-1           # Travel ç›®çš„åœ°å›¾ç‰‡ 1
```

### å­˜å‚¨è·¯å¾„
R2 ä¸­çš„å®é™…è·¯å¾„ï¼š
```
medora-images/
â”œâ”€â”€ homepage/
â”‚   â”œâ”€â”€ hero-main.jpg
â”‚   â”œâ”€â”€ hero-bg.jpg
â”‚   â””â”€â”€ feature-1.jpg
â”œâ”€â”€ surgeons/
â”‚   â”œâ”€â”€ {surgeon-id}/
â”‚   â”‚   â”œâ”€â”€ profile.jpg
â”‚   â”‚   â”œâ”€â”€ gallery-1.jpg
â”‚   â”‚   â””â”€â”€ gallery-2.jpg
â”œâ”€â”€ procedures/
â”‚   â”œâ”€â”€ {procedure-id}/
â”‚   â”‚   â”œâ”€â”€ hero.jpg
â”‚   â”‚   â”œâ”€â”€ before-1.jpg
â”‚   â”‚   â””â”€â”€ after-1.jpg
â”œâ”€â”€ gallery/
â”‚   â”œâ”€â”€ face/
â”‚   â”œâ”€â”€ body/
â”‚   â””â”€â”€ nonsurgical/
â””â”€â”€ travel/
    â”œâ”€â”€ hero.jpg
    â””â”€â”€ dest-1.jpg
```

---

## ğŸš€ å·¥ä½œæµç¨‹

### 1. ç®¡ç†Homepageå›¾ç‰‡
```
1. ç™»å½• Admin Console
2. ç‚¹å‡»ä¾§è¾¹æ  "Homepage"
3. çœ‹åˆ°æ‰€æœ‰å›¾ç‰‡æ§½ä½
4. ç‚¹å‡»ç©ºæ§½ä½æˆ–"æ›¿æ¢"æŒ‰é’®
5. é€‰æ‹©å›¾ç‰‡ä¸Šä¼ 
6. å›¾ç‰‡è‡ªåŠ¨ä¸Šä¼ åˆ° R2
7. å‰ç«¯ä»£ç ä½¿ç”¨ getImageUrl('homepage/hero-main.jpg')
```

### 2. ç®¡ç†åŒ»ç”Ÿç…§ç‰‡
```
1. ç‚¹å‡»ä¾§è¾¹æ  "Surgeons"
2. çœ‹åˆ°æ‰€æœ‰åŒ»ç”Ÿåˆ—è¡¨ï¼ˆä» Supabase è·å–ï¼‰
3. ç‚¹å‡»æŸä¸ªåŒ»ç”Ÿ
4. è¿›å…¥è¯¥åŒ»ç”Ÿçš„ç…§ç‰‡ç®¡ç†é¡µ
5. ä¸Šä¼  Profileã€Gallery ç­‰ç…§ç‰‡
6. ç…§ç‰‡ä¿å­˜åˆ° medora-images/surgeons/{id}/
```

### 3. ç®¡ç†æ‰‹æœ¯é¡¹ç›®å›¾ç‰‡
```
1. ç‚¹å‡»ä¾§è¾¹æ  "Procedures"
2. çœ‹åˆ°æ‰€æœ‰é¡¹ç›®åˆ—è¡¨ï¼ˆä» Supabase è·å–ï¼‰
3. ç‚¹å‡»æŸä¸ªé¡¹ç›®ï¼ˆå¦‚ Brow Liftï¼‰
4. è¿›å…¥è¯¥é¡¹ç›®çš„å›¾ç‰‡ç®¡ç†é¡µ
5. ä¸Šä¼  Heroã€Before/After ç­‰å›¾ç‰‡
6. ç…§ç‰‡ä¿å­˜åˆ° medora-images/procedures/{id}/
```

---

## ğŸ“Š æ•°æ®æµ

### åç«¯ â†’ å‰ç«¯
```
Supabase â†’ Admin Server API â†’ Admin Frontend
  â†“           â†“                    â†“
åŒ»ç”Ÿåˆ—è¡¨    JSON API           æ˜¾ç¤ºå¡ç‰‡åˆ—è¡¨
æ‰‹æœ¯é¡¹ç›®                        ç‚¹å‡»æŸ¥çœ‹è¯¦æƒ…
```

### å›¾ç‰‡ä¸Šä¼ 
```
Admin Frontend â†’ Admin Server â†’ Cloudflare R2
     â†“                â†“              â†“
  é€‰æ‹©æ–‡ä»¶      æ¥æ”¶å¤„ç†        å­˜å‚¨å›¾ç‰‡
                                     â†“
                              è¿”å›å…¬å¼€ URL
                                     â†“
                         Website å‰ç«¯ä½¿ç”¨ getImageUrl()
```

---

## ğŸ”® ä¸‹ä¸€æ­¥å¼€å‘

### ä¼˜å…ˆçº§ P0ï¼ˆæ ¸å¿ƒåŠŸèƒ½ï¼‰
- [ ] å®Œå–„ Surgeon è¯¦æƒ…é¡µçš„å›¾ç‰‡æ§½ä½
- [ ] å®Œå–„ Procedure è¯¦æƒ…é¡µçš„å›¾ç‰‡æ§½ä½
- [ ] å®Œå–„ Gallery åˆ†ç±»çš„å›¾ç‰‡æ§½ä½
- [ ] å®ç°å®é™…çš„å›¾ç‰‡ä¸Šä¼ åŠŸèƒ½
- [ ] å®ç°å›¾ç‰‡åˆ é™¤åŠŸèƒ½

### ä¼˜å…ˆçº§ P1ï¼ˆå¢å¼ºåŠŸèƒ½ï¼‰
- [ ] å›¾ç‰‡é¢„è§ˆå¤§å›¾
- [ ] æ‰¹é‡ä¸Šä¼ 
- [ ] æ‹–æ‹½æ’åº
- [ ] å›¾ç‰‡è£å‰ª/ç¼–è¾‘
- [ ] å›¾ç‰‡ SEO ä¿¡æ¯ï¼ˆalt text, descriptionï¼‰

### ä¼˜å…ˆçº§ P2ï¼ˆé«˜çº§åŠŸèƒ½ï¼‰
- [ ] ç‰ˆæœ¬å†å²
- [ ] å®¡æ ¸æµç¨‹
- [ ] æƒé™ç®¡ç†ï¼ˆå¤šç”¨æˆ·ï¼‰
- [ ] è‡ªåŠ¨å›¾ç‰‡ä¼˜åŒ–ï¼ˆå‹ç¼©ã€WebPè½¬æ¢ï¼‰
- [ ] CDN ç¼“å­˜åˆ·æ–°

---

## ğŸ’¡ è®¾è®¡ç†å¿µ

1. **ä¸å®˜ç½‘ä¸€è‡´çš„ç»“æ„** - æ¯ä¸ªå®˜ç½‘é¡µé¢å¯¹åº”ä¸€ä¸ªç®¡ç†é¡µé¢
2. **å¯è§†åŒ–å›¾ç‰‡æ§½ä½** - ç›´è§‚çœ‹åˆ°å“ªäº›å›¾ç‰‡å·²ä¸Šä¼ ï¼Œå“ªäº›ç©ºç¼º
3. **ä»æ•°æ®åº“è·å–å†…å®¹** - åŒ»ç”Ÿã€é¡¹ç›®åˆ—è¡¨ä» Supabase åŠ¨æ€åŠ è½½
4. **ç®€å•ç›´è§‚çš„æ“ä½œ** - ç‚¹å‡»æ§½ä½å³å¯ä¸Šä¼ ï¼Œæ— éœ€å¤æ‚é…ç½®

---

## ğŸ¯ ä½¿ç”¨åœºæ™¯

### åœºæ™¯1ï¼šæ›´æ–°é¦–é¡µ Hero å›¾ç‰‡
```
1. è®¾è®¡å¸ˆæä¾›æ–°çš„ Hero å›¾ç‰‡
2. ç™»å½• Admin Console
3. è¿›å…¥ Homepage
4. ç‚¹å‡» Hero Main æ§½ä½
5. ä¸Šä¼ æ–°å›¾ç‰‡
6. è‡ªåŠ¨æ›¿æ¢æ—§å›¾ç‰‡
7. å‰ç«¯ç«‹å³ç”Ÿæ•ˆï¼ˆå¯èƒ½éœ€è¦æ¸…é™¤æµè§ˆå™¨ç¼“å­˜ï¼‰
```

### åœºæ™¯2ï¼šæ·»åŠ æ–°åŒ»ç”Ÿ
```
1. åœ¨ Supabase ä¸­æ·»åŠ æ–°åŒ»ç”Ÿè®°å½•
2. åˆ·æ–° Admin Console
3. æ–°åŒ»ç”Ÿè‡ªåŠ¨å‡ºç°åœ¨åˆ—è¡¨ä¸­
4. ç‚¹å‡»åŒ»ç”Ÿï¼Œä¸Šä¼ ç…§ç‰‡
```

### åœºæ™¯3ï¼šä¸ºæ‰‹æœ¯é¡¹ç›®æ·»åŠ æ¡ˆä¾‹å›¾
```
1. è¿›å…¥ Procedures
2. é€‰æ‹©é¡¹ç›®ï¼ˆå¦‚ Brow Liftï¼‰
3. ä¸Šä¼  Before/After å¯¹æ¯”å›¾
4. å›¾ç‰‡æ˜¾ç¤ºåœ¨å®˜ç½‘ç›¸åº”é¡µé¢
```

---

## ğŸ” å®‰å…¨è€ƒè™‘

- âœ… Session è®¤è¯
- âœ… æ‰€æœ‰ API éœ€è¦ç™»å½•
- âœ… R2 API Token æœåŠ¡å™¨ç«¯å­˜å‚¨
- âš ï¸ ç”Ÿäº§ç¯å¢ƒéœ€è¦ HTTPS
- âš ï¸ å»ºè®®æ·»åŠ  IP ç™½åå•
- âš ï¸ å»ºè®®æ·»åŠ æ“ä½œæ—¥å¿—

---

## ğŸ“ æŠ€æœ¯æ”¯æŒ

é‡åˆ°é—®é¢˜ï¼Ÿæ£€æŸ¥ï¼š
1. Admin Console æ˜¯å¦æ­£å¸¸è¿è¡Œï¼ˆhttp://localhost:5001/admin/api/healthï¼‰
2. Supabase è¿æ¥æ˜¯å¦æ­£å¸¸ï¼ˆhealth API ä¸­ `supabase: true`ï¼‰
3. R2 å‡­è¯æ˜¯å¦æ­£ç¡®é…ç½®
4. æµè§ˆå™¨æ§åˆ¶å°æ˜¯å¦æœ‰é”™è¯¯

---

**Admin Console ç°åœ¨æ˜¯ä¸€ä¸ªå®Œæ•´çš„ CMSï¼** ğŸ‰

